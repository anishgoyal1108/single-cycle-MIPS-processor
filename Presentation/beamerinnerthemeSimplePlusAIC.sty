
\pgfdeclareverticalshading[lower.bg,upper.bg]{bmb@transition}{200cm}{
  color(0pt)=(lower.bg); color(2pt)=(lower.bg); color(4pt)=(lower.bg)}

\setbeamersize{text margin left=2.0em,text margin right=2.0em} 

%\addtolength{\headsep}{0.5em}

% ---- table of contents (overview)
\setbeamertemplate{section in toc}{%
  \vspace{1.75em} % Adjust spacing between sections here
  \inserttocsectionnumber.\quad\inserttocsection\par
}
\setbeamertemplate{subsection in toc}{%
  \leavevmode\quad\quad~\inserttocsectionnumber.\inserttocsubsectionnumber.\quad\inserttocsubsection\par
}

% ---- other default parameters
\setbeamertemplate{blocks}[default]
\setbeamertemplate{enumerate items}[default]
\setbeamertemplate{itemize subitem}{$\circ$}
%\setbeamertemplate{itemize subitem}{--}

% ---- frametitle
%\setbeamertemplate{frametitle}{\vspace*{0.5em}\bfseries\insertframetitle\par}
%\setbeamertemplate{framesubtitle}{\vspace*{0.5em}\bfseries\insertframesubtitle\par}
\setbeamertemplate{frametitle}{
  \vspace*{1.0em} % <-- increased top space
  \bfseries\insertframetitle\par
  \vspace*{0.10em}
  \normalfont\large\insertframesubtitle\par
  \vspace*{-0.20em}
}

% ---- footline
\setbeamertemplate{footline}
{
  \begin{beamercolorbox}[sep=1.00em,wd=\paperwidth,leftskip=2.85em,rightskip=2.00em,ht=4.5em,vmode]{footlinecolor}
    \vfill
    \small{\textbf{\insertsectionnumber. ~ \insertsection}}
    \hfill
    \small{\textbf{\insertsectionnumber.\insertsubsectionnumber. ~ \insertsubsection}}
    \hfill
    \small{\textbf{\insertframenumber/\inserttotalframenumber}}
    \vfill
  \end{beamercolorbox}
}

% ---- headline
% \setbeamertemplate{headline}
% {
%   \begin{beamercolorbox}[sep=1.25em,wd=\paperwidth,leftskip=2.25em,rightskip=0.5cm]{headinecolor}
%     \vspace{-2.0em}
%     \scriptsize{\insertsectionnumber ~ \insertsection}
%     \hfill
%     \scriptsize{\insertsectionnumber.\insertsubsectionnumber ~ \insertsubsection}
%   \end{beamercolorbox}
% }

\newcommand{\TikzSplitSlide}[1]{%
  \rule{0.45\paperwidth}{0pt}% % Adjusted to move to the right
  \begin{tikzpicture}
    \clip (-0.10\paperwidth,-0.5\paperheight) -- 
          ( 0.55\paperwidth,-0.5\paperheight) -- 
          ( 0.55\paperwidth, 0.5\paperheight) -- 
          ( 0.15\paperwidth, 0.5\paperheight) -- cycle; 
    \node at (0.25\paperwidth,0) {%
      \includegraphics[height=\paperheight]{#1}%
    };
  \end{tikzpicture}
}

% macros for enabling/disabling title background
\makeatletter
\def\settitlepagebackground{%
  \setbeamertemplate{background}{\TikzSplitSlide{logos/southern_bg.jpg}}%
}
\makeatother

\newcommand{\resetbackground}{%
  \setbeamertemplate{background}{}%
}
\makeatother

\setbeamertemplate{title page}{
  \begingroup
    \vspace{6.5em}
    \centering

    % ------------------------
    \begin{beamercolorbox}[sep=8pt,left]{title}
      \usebeamerfont{title}\inserttitle\par
      \ifx\insertsubtitle\@empty
      \else
        \vskip0.0em
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}
      \fi   
    \end{beamercolorbox}

    \vskip1em 
    \par

    % ------------------------
    \begin{beamercolorbox}[sep=8pt,left]{author}
      \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}

    \vskip-0.75em
    \par

    % ------------------------
    \begin{beamercolorbox}[sep=8pt,left]{institute}
      \usebeamerfont{institute}\insertinstitute
      \vskip2em\par
      \usebeamerfont{date}\usebeamercolor[nyugray]{date}\insertdate
    \end{beamercolorbox}

    % ------------------------        
    \titlegraphic{
      \begin{tikzpicture}[overlay,remember picture]
        \node[anchor=north west, outer sep=10pt] at (current page.north west)
        {
          \hspace{8mm}
          \includegraphics[width=60mm]{logos/georgia_southern.png}
        };
      \end{tikzpicture}
    }

    {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
  \endgroup
}

\newcommand{\conclusionpage}{
  \settitlepagebackground
  \begin{frame}[plain]
    \vspace{6.5em}
    \centering

    % --- Title & custom subtitle
    \begin{beamercolorbox}[sep=8pt,left]{title}
      \usebeamerfont{title}\inserttitle\par
      {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}Single-Cycle MIPS Processor \\[0.5em] \textit{Thank you for your attention!}}
    \end{beamercolorbox}

    \vskip0.3em 
    \par

    % --- Author
    \begin{beamercolorbox}[sep=8pt,left]{author}
      \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}

    \vskip-0.75em
    \par

    % --- Institute and date
    \begin{beamercolorbox}[sep=8pt,left]{institute}
      \usebeamerfont{institute}\insertinstitute
      \vskip0.75em\par
      \usebeamerfont{date}\usebeamercolor[nyugray]{date}\insertdate
    \end{beamercolorbox}

    % --- Logo in top-left corner
    \begin{tikzpicture}[overlay,remember picture]
      \node[anchor=north west, outer sep=10pt] at (current page.north west)
      {
        \hspace{8mm}
        \includegraphics[width=60mm]{logos/georgia_southern.png}
      };
    \end{tikzpicture}

  \end{frame}
  \resetbackground
}

